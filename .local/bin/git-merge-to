#!/bin/pwsh
Param (
  [Parameter(Mandatory=$true)]
  [string]$BranchName
)

$current_branch = git branch --show-current

git pull && `
  git fetch origin "$($BranchName):$BranchName" && `
  git push && `
  git merge $BranchName && `
  git checkout $BranchName && `
  git merge $current_branch &&  `
  git push && `
  git checkout $current_branch
  git merge $BranchName
