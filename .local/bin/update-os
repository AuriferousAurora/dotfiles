#!/usr/bin/env bash

#!/bin/bash
set -e

echo ''
echo -e "\e[1;36m------\e[0m"
echo -e "\e[1;36mUpdate apt\e[0m"
sudo DEBIAN_FRONTEND=noninteractive apt-get -yq update


echo ''
echo -e "\e[1;36m------\e[0m"
echo -e "\e[1;36mUpgrade packages from apt\e[0m"
sudo DEBIAN_FRONTEND=noninteractive apt-get --yes -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" upgrade
echo ''


echo ''
echo -e "\e[1;36m------\e[0m"
echo -e "\e[1;36mClean up packages from apt\e[0m"
sudo DEBIAN_FRONTEND=noninteractive apt-get --yes -o Dpkg::Options::="--force-confdef" -o Dpkg::Options::="--force-confold" auto-remove
echo ''


brew update

brew upgrade

brew cleanup


#echo ''
#echo -e "\e[1;36m------\e[0m"
#echo -e "\e[1;36mInstalling terraform providers\e[0m"
# # https://www.terraform.io/docs/commands/providers/mirror.html
# # https://www.terraform.io/docs/commands/cli-config.html#explicit-installation-method-configuration
#pushd /tmp/provisioner-files/terraform-providers
#sudo terraform providers mirror /usr/share/terraform/plugins
#sudo chmod a+rx -R /usr/share/terraform/plugins
#popd
#rm -rf /tmp/provisioner-files/terraform-providers


echo ''
echo -e "\e[1;32m------\e[0m"
echo -e "\e[1;32mTools Update Complete\e[0m"